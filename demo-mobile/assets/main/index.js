System.register("chunks:///_virtual/BezierMove.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i,a,r,o,s,u,c,h,l,p,d;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.Enum,u=t.math,c=t.Vec3,h=t.Node,l=t.Graphics,p=t.Color,d=t.Component}],execute:function(){var _,I,O,b,M,g,f,m,y,P,v,w,q,T,k,x,S,z,C,j,R,N,B;r._RF.push({},"f680dkagx9PmbfqtF463/Ua","BezierMove",void 0);var A=o.ccclass,D=o.property,E=t("EasingType",function(t){return t.linear="linear",t.smooth="smooth",t.fade="fade",t.quadIn="quadIn",t.quadOut="quadOut",t.quadInOut="quadInOut",t.quadOutIn="quadOutIn",t.cubicIn="cubicIn",t.cubicOut="cubicOut",t.cubicInOut="cubicInOut",t.cubicOutIn="cubicOutIn",t.quartIn="quartIn",t.quartOut="quartOut",t.quartInOut="quartInOut",t.quartOutIn="quartOutIn",t.quintIn="quintIn",t.quintOut="quintOut",t.quintInOut="quintInOut",t.quintOutIn="quintOutIn",t.sineIn="sineIn",t.sineOut="sineOut",t.sineInOut="sineInOut",t.sineOutIn="sineOutIn",t.expoIn="expoIn",t.expoOut="expoOut",t.expoInOut="expoInOut",t.expoOutIn="expoOutIn",t.circIn="circIn",t.circOut="circOut",t.circInOut="circInOut",t.circOutIn="circOutIn",t.elasticIn="elasticIn",t.elasticOut="elasticOut",t.elasticInOut="elasticInOut",t.elasticOutIn="elasticOutIn",t.backIn="backIn",t.backOut="backOut",t.backInOut="backInOut",t.backOutIn="backOutIn",t.bounceIn="bounceIn",t.bounceOut="bounceOut",t.bounceInOut="bounceInOut",t.bounceOutIn="bounceOutIn",t}({})),L=t("ControlPointSideType",function(t){return t[t.Left=1]="Left",t[t.Right=-1]="Right",t[t.Random=0]="Random",t}({}));t("BezierMove",(_=A("BezierMove"),I=D({displayName:"速度"}),O=D({displayName:"控制点方向",tooltip:"0=随机, 1=左侧，-1=右侧（相对于从起点到终点的方向）"}),b=D({displayName:"控制点偏移系数",tooltip:"0~1之间,控制点偏移系数,值越大曲线越弯曲"}),M=D({displayName:"控制点随机性",tooltip:"0~1之间,控制点随机性,值越大随机性越强"}),g=D({displayName:"自动旋转"}),f=D({displayName:"显示轨迹"}),m=D({displayName:"轨迹颜色"}),y=D({displayName:"轨迹宽度"}),P=D({displayName:"缓动函数",type:s(E)}),v=D({displayName:"角度平滑系数",tooltip:"0~1之间,值越小旋转越平滑,0表示不旋转,1表示立即旋转"}),_((T=n((q=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n=t.call.apply(t,[this].concat(r))||this,i(n,"speed",T,a(n)),i(n,"controlPointSide",k,a(n)),i(n,"controlPointOffset",x,a(n)),i(n,"controlPointRandomness",S,a(n)),i(n,"autoRotate",z,a(n)),i(n,"showTrajectory",C,a(n)),i(n,"trajectoryColor",j,a(n)),i(n,"trajectoryWidth",R,a(n)),i(n,"easing",N,a(n)),i(n,"rotationSmoothness",B,a(n)),n._graphics=null,n._currentAngle=0,n._startPoint=new c,n._endPoint=new c,n._controlPoint=new c,n._t=0,n._totalTime=0,n._isMoving=!1,n._callback=null,n._target=void 0,n._onMoveStartCallback=null,n._onMoveStartTarget=void 0,n}e(n,t);var r=n.prototype;return r.onEnable=function(){this._startPoint.set(this.node.position),this._currentAngle=this.node.angle,this._initGraphics()},r.onDisable=function(){if(this._graphics&&(this._graphics.clear(),this._graphics.node&&this._graphics.node.isValid)){this.node.uuid;this._graphics.node.destroy()}},r.onMoveComplete=function(t,n){this._callback=t,this._target=n},r.onMoveStart=function(t,n){this._onMoveStartCallback=t,this._onMoveStartTarget=n},r.update=function(t){if(this._isMoving&&!(this._totalTime<=0)){this._t+=t/this._totalTime;var n=this._applyEasing(this._t);if(this._t>=1){if(this.node.setPosition(this._endPoint),this._isMoving=!1,this._callback&&this._callback(),this.showTrajectory&&this._graphics&&(this._graphics.clear(),this._graphics.node.parent!==this.node)){var e=this._graphics.node;e.parent&&e.removeFromParent(),this.node.addChild(e)}}else{var i=this._calculateQuadraticBezierPoint(n,this._startPoint,this._controlPoint,this._endPoint);if(this.node.setPosition(i),this.autoRotate){var a=this._calculateQuadraticBezierTangent(n,this._startPoint,this._controlPoint,this._endPoint);if(a.lengthSqr()>.001){var r=u.toDegree(Math.atan2(a.y,a.x))-90;this._currentAngle=this._smoothAngle(this._currentAngle,r,this.rotationSmoothness),this.node.angle=this._currentAngle}}}}},r.moveTo=function(t){this._startPoint.set(this.node.position),this._endPoint.set(t),this._currentAngle=this.node.angle,this._generateControlPoint();var n=c.distance(this._startPoint,this._controlPoint)+c.distance(this._controlPoint,this._endPoint);this._totalTime=n/this.speed,this._totalTime<.1&&(this._totalTime=.1),this.showTrajectory&&this._drawTrajectory(),this._t=0,this._isMoving=!0,this._onMoveStartCallback&&this._onMoveStartCallback.apply(this._onMoveStartTarget,[this._totalTime])},r._generateControlPoint=function(){var t=new c;c.lerp(t,this._startPoint,this._endPoint,.5);var n=new c;c.subtract(n,this._endPoint,this._startPoint);var e=new c(-n.y,n.x,0);c.normalize(e,e);var i=1;i=this.controlPointSide===L.Random?Math.random()<.5?1:-1:this.controlPointSide;var a=c.distance(this._startPoint,this._endPoint)*this.controlPointOffset,r=(2*Math.random()-1)*this.controlPointRandomness;this._controlPoint.set(t.x+e.x*a*(1+r)*i,t.y+e.y*a*(1+r)*i,0)},r.stopMoving=function(){this._isMoving=!1},r._calculateQuadraticBezierPoint=function(t,n,e,i){var a=1-t,r=t*t,o=a*a,s=new c;c.multiplyScalar(s,n,o);var u=new c;c.multiplyScalar(u,e,2*a*t),c.add(s,s,u);var h=new c;return c.multiplyScalar(h,i,r),c.add(s,s,h),s},r._calculateQuadraticBezierTangent=function(t,n,e,i){var a=1-t,r=new c,o=new c;c.subtract(o,e,n),c.multiplyScalar(o,o,2*a);var s=new c;return c.subtract(s,i,e),c.multiplyScalar(s,s,2*t),c.add(r,o,s),r},r._applyEasing=function(t){switch(t=Math.max(0,Math.min(1,t)),this.easing){case E.linear:return t;case E.smooth:case E.fade:return t*t*(3-2*t);case E.quadIn:return t*t;case E.quadOut:return t*(2-t);case E.quadInOut:return t<.5?2*t*t:(4-2*t)*t-1;case E.quadOutIn:return t<.5?.5*(1-Math.pow(-2*t+1,2)):.5*Math.pow(2*t-1,2)+.5;case E.cubicIn:return t*t*t;case E.cubicOut:return--t*t*t+1;case E.cubicInOut:return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1;case E.cubicOutIn:return t<.5?.5*((t=2*t-1)*t*t+1):.5*(t=2*t-1)*t*t+.5;case E.quartIn:return t*t*t*t;case E.quartOut:return 1- --t*t*t*t;case E.quartInOut:return t<.5?8*t*t*t*t:1-8*--t*t*t*t;case E.quartOutIn:return t<.5?.5*(1-Math.pow(-2*t+1,4)):.5*Math.pow(2*t-1,4)+.5;case E.quintIn:return t*t*t*t*t;case E.quintOut:return 1+--t*t*t*t*t;case E.quintInOut:return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t;case E.quintOutIn:return t<.5?.5*(1-Math.pow(-2*t+1,5)):.5*Math.pow(2*t-1,5)+.5;case E.sineIn:return 1-Math.cos(t*Math.PI/2);case E.sineOut:return Math.sin(t*Math.PI/2);case E.sineInOut:return.5*(1-Math.cos(Math.PI*t));case E.sineOutIn:return t<.5?.5*Math.sin(t*Math.PI):.5-.5*Math.cos((2*t-1)*Math.PI/2);case E.circIn:return 1-Math.sqrt(1-t*t);case E.circOut:return Math.sqrt(1-(t-1)*(t-1));case E.circInOut:return t<.5?(1-Math.sqrt(1-4*t*t))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2;case E.circOutIn:return t<.5?.5*Math.sqrt(1-Math.pow(-2*t+1,2)):.5*(2-Math.sqrt(1-Math.pow(2*t-1,2)));case E.expoIn:return 0===t?0:Math.pow(2,10*t-10);case E.expoOut:return 1===t?1:1-Math.pow(2,-10*t);case E.expoInOut:return 0===t?0:1===t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2;case E.expoOutIn:return 0===t?0:1===t?1:t<.5?.5*(1-Math.pow(2,-20*t)):.5*Math.pow(2,20*(t-.5)-10)+.5;case E.backIn:var n=1.70158;return t*t*((n+1)*t-n);case E.backOut:var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1;case E.backInOut:var i=2.5949095;return t<.5?2*t*(2*t)*((i+1)*(2*t)-i)/2:((2*t-2)*(2*t-2)*((i+1)*(2*t-2)+i)+2)/2;case E.backOutIn:var a=1.70158;return t<.5?.5*((t=2*t-1)*t*((a+1)*t+a)+1):.5*(t=2*t-1)*t*((a+1)*t-a)+.5;case E.elasticIn:return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI);case E.elasticOut:return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1;case E.elasticInOut:return 0===t?0:1===t?1:t<.5?-.5*Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*Math.PI/2.25):.5*Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*Math.PI/2.25)+1;case E.elasticOutIn:return 0===t?0:1===t?1:t<.5?.5*Math.pow(2,-20*t)*Math.sin(5*(20*t-.5)*Math.PI)+.5:.5*-Math.pow(2,10*(2*t-1.5))*Math.sin(5*(2*t-1.6)*Math.PI)+.5;case E.bounceIn:return 1-this._bounceOut(1-t);case E.bounceOut:return this._bounceOut(t);case E.bounceInOut:return t<.5?(1-this._bounceOut(1-2*t))/2:(1+this._bounceOut(2*t-1))/2;case E.bounceOutIn:return t<.5?this._bounceOut(2*t)/2:(1-this._bounceOut(2-2*t))/2+.5;default:return t}},r._bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},r._initGraphics=function(){var t,n="TrajectoryGraphics_"+this.node.uuid,e=null==(t=this.node.parent)?void 0:t.getChildByName(n);e||(e=new h(n),this.node.parent?this.node.parent.addChild(e):this.node.addChild(e)),this._graphics=e.getComponent(l),this._graphics||(this._graphics=e.addComponent(l))},r._drawTrajectory=function(){if(this.showTrajectory&&this._graphics){this._graphics.clear(),this._graphics.lineWidth=this.trajectoryWidth,this._graphics.strokeColor=this.trajectoryColor;var t=this._graphics.node;this.node.parent&&(t.parent=this.node.parent,this._graphics.moveTo(this._startPoint.x,this._startPoint.y),this._graphics.quadraticCurveTo(this._controlPoint.x,this._controlPoint.y,this._endPoint.x,this._endPoint.y)),this._graphics.stroke()}},r._smoothAngle=function(t,n,e){e=Math.max(.001,Math.min(1,e));var i=function(t){return(t%=360)<0?t+360:t},a=i(t),r=i(n)-a;return r>180?r-=360:r<-180&&(r+=360),t+r*e},n}(d)).prototype,"speed",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 600}}),k=n(q.prototype,"controlPointSide",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.Left}}),x=n(q.prototype,"controlPointOffset",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),S=n(q.prototype,"controlPointRandomness",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),z=n(q.prototype,"autoRotate",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),C=n(q.prototype,"showTrajectory",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),j=n(q.prototype,"trajectoryColor",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(0,255,0,255)}}),R=n(q.prototype,"trajectoryWidth",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),N=n(q.prototype,"easing",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.linear}}),B=n(q.prototype,"rotationSmoothness",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),w=q))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/Camera.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Hero.ts"],(function(e){var t,a,r,i,n,o,s,h,c,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,s=e.Camera,h=e.math,c=e.Component},function(e){u=e.GameManager},function(e){l=e.Hero}],execute:function(){var _,m,f,p,v,k,g;n._RF.push({},"77fa1wfuDlM9KvQt0iier7h","Camera",void 0);var d=o.ccclass,S=o.property;e("Camera",(_=d("Camera"),m=S(u),f=S(l),_((k=t((v=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,r(t,"gameManager",k,i(t)),r(t,"hero",g,i(t)),t._isShake=!1,t._shakeLevel=10,t._timer=0,t._shakeDuration=.2,t._camera=null,t._defaultFov=45,t._targetFov=40,t._currentFov=45,t._fovTransitionSpeed=5,t._currentShakeRatio=0,t}a(t,e);var n=t.prototype;return n.start=function(){var e=this;this._camera=this.getComponent(s),this._camera?(this._currentFov=this._defaultFov,this._camera.fov=this._currentFov,this.hero.onAttackEvent((function(t){e._currentShakeRatio=t+.2,e.shakeCarmera()}),this)):console.error("Camera组件未找到！")},n.shakeCarmera=function(){this._isShake||(this._isShake=!0,this._timer=0)},n.update=function(e){if(this._camera&&this.gameManager&&this._isShake)if(this._timer+=e,this._timer>this._shakeDuration)this._isShake=!1,this._timer=0;else{var t=h.randomRangeInt(-1*this._shakeLevel,this._shakeLevel)*this._currentShakeRatio,a=h.randomRangeInt(-1*this._shakeLevel,this._shakeLevel)*this._currentShakeRatio;this.node.setPosition(t,a,this.node.position.z)}},t}(c)).prototype,"gameManager",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(v.prototype,"hero",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=v))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Hero.ts"],(function(t){var e,i,n,o,s,r,a,c,l,h,u,p,f,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.Node,c=t.Sprite,l=t.tween,h=t.Vec3,u=t.easing,p=t.Color,f=t.Component},function(t){_=t.Hero}],execute:function(){var d,w,g,m,S,T,P,y,b;s._RF.push({},"dccf6YPAuFEIb1nSKHehNiS","GameManager",void 0);var v=r.ccclass,E=r.property;t("GameManager",(d=v("GameManager"),w=E({type:a}),g=E({type:a}),m=E({type:a}),d((P=e((T=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,n(e,"ndAttackButton",P,o(e)),n(e,"ndHero",y,o(e)),n(e,"ndGlowEffect",b,o(e)),e._isButtonPressed=!1,e._buttonPressStartTime=0,e._maxPressTime=3,e._maxScale=1.3,e._maxGlowOpacity=255,e._glowSprite=null,e._hero=null,e}i(e,t);var s=e.prototype;return s.start=function(){if(this.ndAttackButton.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.ndAttackButton.on(a.EventType.TOUCH_END,this.onTouchEnd,this),this._hero=this.ndHero.getComponent(_),this.ndGlowEffect&&(this._glowSprite=this.ndGlowEffect.getComponent(c),this._glowSprite)){var t=this._glowSprite.color.clone();t.a=0,this._glowSprite.color=t}},s.onDestroy=function(){this.ndAttackButton.off(a.EventType.TOUCH_START,this.onTouchStart,this),this.ndAttackButton.off(a.EventType.TOUCH_END,this.onTouchEnd,this)},s.onTouchStart=function(t){var e=this;if(this.schedule((function(){e._isButtonPressed&&e._hero.heroAttack(0)}),.2),this._isButtonPressed=!0,this._buttonPressStartTime=Date.now()/1e3,l(this.ndAttackButton).stop(),this._glowSprite){l(this._glowSprite).stop();var i=this._glowSprite.color.clone();i.a=50,this._glowSprite.color=i}},s.onTouchEnd=function(t){if(this.unscheduleAllCallbacks(),this._isButtonPressed=!1,this._hero.heroAttack(this.getPressedRatio()),l(this.ndAttackButton).to(.1,{scale:new h(.8,.8,1)},{easing:u.backIn}).to(.2,{scale:new h(1,1,1)},{easing:u.elasticOut}).start(),this.ndGlowEffect&&l(this.ndGlowEffect).to(.1,{scale:new h(.8,.8,1)},{easing:u.backIn}).to(.2,{scale:new h(1,1,1)},{easing:u.elasticOut}).start(),this._glowSprite){var e=this._glowSprite.color.clone();l(this._glowSprite).to(.3,{color:new p(e.r,e.g,e.b,0)}).start()}},s.getPressedRatio=function(){var t=Date.now()/1e3;return Math.min(t-this._buttonPressStartTime,this._maxPressTime)/this._maxPressTime},s.isButtonPressed=function(){return this._isButtonPressed},s.getMaxPressTime=function(){return this._maxPressTime},s.update=function(t){if(this._isButtonPressed){var e=Date.now()/1e3,i=Math.min(e-this._buttonPressStartTime,this._maxPressTime),n=1+(this._maxScale-1)*(i/this._maxPressTime);if(this.ndAttackButton.setScale(new h(n,n,1)),this.ndGlowEffect&&this.ndGlowEffect.setScale(new h(n,n,1)),this._glowSprite){var o=50+(this._maxGlowOpacity-50)*(i/this._maxPressTime),s=this._glowSprite.color.clone();s.a=o,this._glowSprite.color=s}}},e}(f)).prototype,"ndAttackButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(T.prototype,"ndHero",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(T.prototype,"ndGlowEffect",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=T))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/Hero.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BezierMove.ts"],(function(t){var a,e,n,i,o,c,r,s,l,p,u,h,k,f,A,g,d,m,C,y;return{setters:[function(t){a=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,r=t.Collider2D,s=t.sp,l=t.Prefab,p=t.Contact2DType,u=t.Label,h=t.Color,k=t.Sprite,f=t.instantiate,A=t.math,g=t.Vec3,d=t.tween,m=t.UIOpacity,C=t.Component},function(t){y=t.BezierMove}],execute:function(){var _,v,T,b,S,w,E,B,D;o._RF.push({},"93f07/7+nxB5bsOzaR1DpSQ","Hero",void 0);var R=c.ccclass,x=c.property;t("Hero",(_=R("Hero"),v=x(r),T=x(s.Skeleton),b=x(l),_((E=a((w=function(t){function a(){for(var a,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return a=t.call.apply(t,[this].concat(o))||this,n(a,"attackCollider",E,i(a)),n(a,"attackAni",B,i(a)),n(a,"popupText",D,i(a)),a._contactTargets=[],a._attackRatio=0,a._callback=void 0,a._target=void 0,a}e(a,t);var o=a.prototype;return o.onEnable=function(){var t=this;this.attackCollider.on(p.BEGIN_CONTACT,this.onAttackBegin,this),this.attackCollider.on(p.END_CONTACT,this.onAttackEnd,this),this.attackAni.setAnimation(0,"head-turn",!0),this.attackAni.setCompleteListener((function(){t.attackAni.setAnimation(0,"head-turn",!0)})),this.attackAni.setEventListener((function(a,e){"number"!=typeof e&&"attack"===e.data.name&&t._contactTargets.forEach((function(a){t.attack(a.node)}))}))},o.onDisable=function(){this.attackCollider.off(p.BEGIN_CONTACT,this.onAttackBegin,this),this.attackCollider.off(p.END_CONTACT,this.onAttackEnd,this)},o.onAttackBegin=function(t,a,e){this._contactTargets.push(a)},o.heroAttack=function(t){this._attackRatio=t,console.log("attack ratio:",t),console.log("timescale:",this.attackAni.timeScale);var a=.5;t>.5&&(a+=.5*t),this.attackAni.timeScale=a,this.attackAni.setAnimation(0,"attack",!1)},o.onAttackEnd=function(t,a,e){var n=this._contactTargets.indexOf(a);-1!==n&&this._contactTargets.splice(n,1)},o.changePopupStyle=function(t){t.getComponent(u).string="粉丝 +1",t.getComponent(u).color=new h(114,218,251)},o.onAttackEvent=function(t,a){this._callback=t,this._target=a},o.attack=function(t){this._callback&&this._callback.apply(this._target,[this._attackRatio]);var a=t.getComponent(k),e=f(this.popupText);this._attackRatio>.5&&this.changePopupStyle(e),this.node.parent.addChild(e);var n=A.randomRangeInt(-20,20),i=new g(t.position.x+n,t.position.y+60);e.setPosition(i);var o=40+400*this._attackRatio;if(a){var c=a.color.clone();d(a).to(.1,{color:new h(255,255,255)}).delay(.3).to(.05,{color:c}).start(),d(t).to(.1,{scale:new g(1.1,1.1)},{easing:"elasticIn"}).delay(.3).to(.05,{scale:new g(.95,.95)}).delay(.1).to(.05,{scale:new g(1,1)}).start(),d(t).to(.1,{angle:n}).delay(.3).to(.05,{angle:0}).start()}var r=new g(i.x,i.y+o),s=e.getComponent(y),l=e.getComponent(m);s.onMoveComplete((function(){e.destroy()}),this),s.onMoveStart((function(t){console.log("total time:",t),d(l).to(t,{opacity:0},{easing:"linear"}).start()}),this),s.moveTo(r)},o.start=function(){},o.update=function(t){},o.stopAtFirstFrame=function(){this.attackAni.setToSetupPose(),this.attackAni.setAnimation(0,"attack",!1),this.attackAni.timeScale=0},o.stopAtThridFrame=function(){this.attackAni.setToSetupPose(),this.attackAni.setAnimation(0,"attack",!1);this.attackAni.getCurrent(0).trackTime=.06666666666666667,this.attackAni.timeScale=0},a}(C)).prototype,"attackCollider",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=a(w.prototype,"attackAni",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=a(w.prototype,"popupText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=w))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BezierMove.ts","./Camera.ts","./GameManager.ts","./Hero.ts"],(function(){return{setters:[null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});